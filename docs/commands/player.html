<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TensorPack — Demo Player</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 24px; color: #111 }
    h1 { font-size: 1.4rem; margin-bottom: 12px }
    .grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(300px,1fr)); gap: 16px }
    .card { border: 1px solid #e6e6e6; padding: 8px; border-radius: 8px; background: #fff }
    video { width: 100%; height: auto; display: block; border-radius: 6px; background: #000 }
    .meta { margin-top: 8px; font-size: 0.9rem }
    .hint { font-size: 0.85rem; color: #444 }
    a.raw { font-size: 0.85rem; color: #0366d6 }
  </style>
</head>
<body>
  <h1>TensorPack — Demo Videos</h1>
  <p class="hint">Hover over a thumbnail to play (muted). Click a video to toggle controls / play-pause. If you want a hosted page, enable GitHub Pages and serve from the <code>/docs</code> folder.</p>

  <div class="grid" id="videos"></div>

  <script>
    // List of video files relative to this HTML file
    const videos = [
      'img/add-transform_compressed.mp4',
      'img/add-transfrom1_compressed.mp4',
      'img/entity-search_compressed.mp4',
      'img/sematic-analysis_compressed.mp4',
      'img/Sematic-connection-discovery_compressed.mp4'
    ];

    const container = document.getElementById('videos');

    videos.forEach(src => {
      const card = document.createElement('div');
      card.className = 'card';

      const video = document.createElement('video');
      video.preload = 'metadata';
      video.muted = true;
      video.loop = false;
      video.setAttribute('playsinline', '');

      // lazy source assignment to avoid heavy initial load
      const source = document.createElement('source');
      source.type = 'video/mp4';
      source.src = src;
      video.appendChild(source);

      // Hover to play
      card.addEventListener('mouseenter', () => {
        video.muted = true;
        video.play().catch(() => {});
      });
      card.addEventListener('mouseleave', () => {
        try { video.pause(); video.currentTime = 0; } catch(e){}
      });

      // Click to toggle controls/play
      video.addEventListener('click', (ev) => {
        if (!video.controls) {
          video.controls = true;
          video.muted = false;
          video.play();
        } else {
          if (video.paused) video.play(); else video.pause();
        }
      });

      const meta = document.createElement('div');
      meta.className = 'meta';
      const name = document.createElement('div');
      name.textContent = src.replace('img/','');
      const raw = document.createElement('div');
      raw.innerHTML = `<a class="raw" href="${src}">Open raw video</a>`;

      meta.appendChild(name);
      meta.appendChild(raw);

      card.appendChild(video);
      card.appendChild(meta);
      container.appendChild(card);
    });
  </script>
</body>
</html>
